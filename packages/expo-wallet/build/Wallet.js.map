{"version":3,"file":"Wallet.js","sourceRoot":"","sources":["../src/Wallet.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,mBAAmB,EAAE,YAAY,EAAgB,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAG7F,OAAO,UAAU,MAAM,cAAc,CAAC;AACtC,OAAO,aAAa,MAAM,iBAAiB,CAAC;AAE5C,MAAM,kBAAkB,GAAG,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC;AAExD,MAAM,CAAC,KAAK,UAAU,iBAAiB;IACrC,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE;QACjC,OAAO,KAAK,CAAC;KACd;IACD,OAAO,MAAM,UAAU,CAAC,iBAAiB,EAAE,CAAC;AAC9C,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,mBAAmB,CAAC,GAAG;IAC3C,IAAI,CAAC,UAAU,CAAC,mBAAmB,EAAE;QACnC,MAAM,IAAI,mBAAmB,CAAC,aAAa,EAAE,qBAAqB,CAAC,CAAC;KACrE;IACD,OAAO,MAAM,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;AACnD,CAAC;AAED,MAAM,UAAU,4BAA4B,CAC1C,QAAgC;IAEhC,QAAQ,QAAQ,CAAC,EAAE,EAAE;QACnB,KAAK,KAAK;YACR,OAAO,kBAAkB,CAAC,WAAW,CAAC,uCAAuC,EAAE,QAAQ,CAAC,CAAC;QAC3F,KAAK,KAAK;YACR,OAAO,IAAI,CAAC;QACd;YACE,MAAM,IAAI,mBAAmB,CAAC,aAAa,EAAE,8BAA8B,CAAC,CAAC;KAChF;AACH,CAAC;AAED,OAAO,EAA0B,aAAa,EAAE,CAAC","sourcesContent":["import { UnavailabilityError, EventEmitter, Subscription, Platform } from '@unimodules/core';\n\nimport { PassViewFinishListener } from './Wallet.types';\nimport ExpoWallet from './ExpoWallet';\nimport AddPassButton from './AddPassButton';\n\nconst WalletEventEmitter = new EventEmitter(ExpoWallet);\n\nexport async function canAddPassesAsync(): Promise<boolean> {\n  if (!ExpoWallet.canAddPassesAsync) {\n    return false;\n  }\n  return await ExpoWallet.canAddPassesAsync();\n}\n\nexport async function addPassFromUrlAsync(url): Promise<boolean> {\n  if (!ExpoWallet.addPassFromUrlAsync) {\n    throw new UnavailabilityError('expo-wallet', 'addPassFromUrlAsync');\n  }\n  return await ExpoWallet.addPassFromUrlAsync(url);\n}\n\nexport function addPassViewDidFinishListener(\n  listener: PassViewFinishListener\n): Subscription | null {\n  switch (Platform.OS) {\n    case 'ios':\n      return WalletEventEmitter.addListener('Expo.addPassesViewControllerDidFinish', listener);\n    case 'web':\n      return null;\n    default:\n      throw new UnavailabilityError('expo-wallet', 'addPassViewDidFinishListener');\n  }\n}\n\nexport { PassViewFinishListener, AddPassButton };\n"]}